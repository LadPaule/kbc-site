(()=>{"use strict";var e,t={92618:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=a(n(73609));function r(e,t){var n=e+"-handsontable-container",a=e+"-handsontable-header",r=e+"-handsontable-col-header",o=e+"-handsontable-col-caption",l=i.default("#"+e),d=i.default("#"+a),s=i.default("#"+r),c=i.default("#"+o),h={},u=null,f=null,p=!1,b=function(){var t=i.default("#"+e).parent();return t.find(".htCore").height()+2*t.find(".input").height()},v=[".input > .handsontable",".wtHider",".wtHolder"],w=function(t){var n=i.default("#"+e);i.default.each(v,(function(){n.closest(".field-content").find(this).height(t)}))};try{f=JSON.parse(l.val())}catch(e){}null!==f&&(f.hasOwnProperty("first_row_is_table_header")&&d.prop("checked",f.first_row_is_table_header),f.hasOwnProperty("first_col_is_header")&&s.prop("checked",f.first_col_is_header),f.hasOwnProperty("table_caption")&&c.prop("value",f.table_caption)),t.hasOwnProperty("width")&&t.hasOwnProperty("height")||i.default(window).on("resize",(function(){u.updateSettings({width:i.default(".widget-table_input").closest(".sequence-member-inner").width(),height:b()}),function(e){i.default.each(v,(function(){i.default(this).width(e)}));var t=i.default(".widget-table_input").parent();t.find(".field-content").width(e),t.find(".fieldname-table .field-content .field-content").width("80%")}("100%")}));var g=function(){for(var e=u.getCellsMeta(),t=[],n=0;n<e.length;n++)e[n].hasOwnProperty("className")&&t.push({row:e[n].row,col:e[n].col,className:e[n].className});return t},y=function(){l.val(JSON.stringify({data:u.getData(),cell:g(),first_row_is_table_header:d.prop("checked"),first_col_is_header:s.prop("checked"),table_caption:c.val()}))},_=function(e,t){w(b()),y()};d.on("change",(function(){y()})),s.on("change",(function(){y()})),c.on("change",(function(){y()}));var m={afterChange:function(e,t){"loadData"!==t&&y()},afterCreateCol:_,afterCreateRow:_,afterRemoveCol:_,afterRemoveRow:_,afterSetCellMeta:function(e,t,n,a){p&&"className"===n&&y()},afterInit:function(){p=!0}};null!==f&&(f.hasOwnProperty("data")&&(m.data=f.data),f.hasOwnProperty("cell")&&(m.cell=f.cell)),Object.keys(m).forEach((function(e){h[e]=m[e]})),Object.keys(t).forEach((function(e){h[e]=t[e]})),(u=new Handsontable(document.getElementById(n),h)).render(),"resize"in i.default(window)&&(w(b()),i.default(window).on("load",(function(){i.default(window).trigger("resize")})))}window.initTable=r;var o=function(){function e(e,t){this.options=e,this.strings=t}return e.prototype.render=function(e,t,n,a){var i=document.createElement("div");i.innerHTML='\n      <div class="field boolean_field widget-checkbox_input">\n        <label for="'+n+'-handsontable-header">'+this.strings["Row header"]+'</label>\n        <div class="field-content">\n          <div class="input">\n            <input type="checkbox" id="'+n+'-handsontable-header" name="handsontable-header" />\n          </div>\n          <p class="help">'+this.strings["Display the first row as a header."]+'</p>\n        </div>\n      </div>\n      <br/>\n      <div class="field boolean_field widget-checkbox_input">\n        <label for="'+n+'-handsontable-col-header">'+this.strings["Column header"]+'</label>\n        <div class="field-content">\n          <div class="input">\n            <input type="checkbox" id="'+n+'-handsontable-col-header" name="handsontable-col-header" />\n          </div>\n          <p class="help">'+this.strings["Display the first column as a header."]+'</p>\n        </div>\n      </div>\n      <br/>\n      <div class="field">\n          <label for="'+n+'-handsontable-col-caption">'+this.strings["Table caption"]+'</label>\n          <div class="field-content">\n            <div class="input">\n            <input type="text" id="'+n+'-handsontable-col-caption" name="handsontable-col-caption" />\n          </div>\n          <p class="help">\n            '+this.strings["A heading that identifies the overall topic of the table, and is useful for screen reader users"]+'\n          </p>\n        </div>\n      </div>\n      <br/>\n      <div id="'+n+'-handsontable-container"></div>\n      <input type="hidden" name="'+t+'" id="'+n+'" placeholder="'+this.strings.Table+'">\n    ',e.replaceWith(i);var o=i.querySelector('input[name="'+t+'"]'),l=this.options,d={getValue:function(){return JSON.parse(o.value)},getState:function(){return JSON.parse(o.value)},setState:function(e){o.value=JSON.stringify(e),r(n,l)},focus:function(){}};return d.setState(a),d},e}();window.telepath.register("wagtail.widgets.TableInput",o)},73609:e=>{e.exports=jQuery}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(s=0;s<e.length;s++){for(var[n,i,r]=e[s],l=!0,d=0;d<n.length;d++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[d])))?n.splice(d--,1):(l=!1,r<o&&(o=r));l&&(e.splice(s--,1),t=i())}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[n,i,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=986,(()=>{var e={986:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[o,l,d]=n,s=0;for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(d)var c=d(a);for(t&&t(n);s<o.length;s++)r=o[s],a.o(e,r)&&e[r]&&e[r][0](),e[o[s]]=0;return a.O(c)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[751],(()=>a(92618)));var i=a.O(void 0,[751],(()=>a(90971)));i=a.O(i)})();
//# sourceMappingURL=table.js.map